<h1>Edit Item</h1>

<%= form_with model: @item, url: admin_item_path(@item), local: true, html: { multipart: true } do |f| %>

  <div class="mb-3">
    <%= f.label :category_id, 'Category' %>
    <%= f.collection_select :category_id, Category.all, :id, :name, prompt: "Select a Category", class: 'form-control' %>
  </div>

  <div class="mb-3">
    <%= f.label :name, 'Name' %>
    <%= f.text_field :name, class: 'form-control' %>
  </div>

  <div class="mb-3">
    <%= f.label :quantity, 'Quantity' %>
    <%= f.number_field :quantity, class: 'form-control' %>
  </div>

  <div class="mb-3">
    <%= f.label :minimum_tickets, 'Minimum Tickets' %>
    <%= f.number_field :minimum_tickets, class: 'form-control' %>
  </div>

  <div class="mb-3">
    <%= f.label :status, 'Status' %>
    <%= f.select :status, Item.statuses.keys.map { |status| [status.titleize, status] }, {}, class: 'form-select' %>
  </div>

  <div class="row mb-3">
    <div class="col-md-6">
      <%= f.label :online_at, 'Online At', class: 'form-label' %>
      <%= f.datetime_local_field :online_at, value: @item.online_at&.strftime("%Y-%m-%dT%H:%M"), class: 'form-control' %>
    </div>

    <div class="col-md-6">
      <%= f.label :offline_at, 'Offline At', class: 'form-label' %>
      <%= f.datetime_local_field :offline_at, value: @item.offline_at&.strftime("%Y-%m-%dT%H:%M"), class: 'form-control' %>
    </div>
  </div>


  <%= f.submit 'Update Item', class: 'btn btn-primary' %>
  <%= link_to 'Cancel', admin_items_path, class: 'btn btn-secondary' %>
<% end %>
